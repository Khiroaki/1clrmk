&НаСервере
Функция РегистрацияНаСервере()
	Если Логин <> Справочники.Пользователи.НайтиПоНаименованию(Логин).Наименование Тогда
		НовыйПользователь = Справочники.Пользователи.СоздатьЭлемент();
		НовыйПользователь.Наименование = Логин;
		НовыйПользователь.ФИО = ФИО;
		НовыйПользователь.Номер = Номер;
		НовыйПользователь.Почта = Почта;
		НовыйПользователь.Пароль = Пароль;
		НовыйПользователь.Записать();
		Сообщить("Вы успешно зарегистрировались");
		Возврат Истина;
	Иначе
		Сообщить("Пользователь с таким логином уже существует");
		Пароль = ""; Логин = "";
	КонецЕсли;
КонецФункции

&НаКлиенте
Процедура Регистрация(Команда)
	ПользовательСоздан = РегистрацияНаСервере();
	Если ПользовательСоздан = Истина Тогда
		ПолучитьФорму("ОбщаяФорма.Авторизация").Открыть();
	КонецЕсли;
КонецПроцедуры
