функция ОпределитьТекущегоПользователя()
	ТекПользователь = Справочники.Пользователи.НайтиПоНаименованию(ИмяПользователя(),Истина);                                                                                                                                                                  
	Возврат ТекПользователь;                                                                                                                                                                                                                                
КонецФункции

Процедура УстановитьПараметрыСеанса() Экспорт
	ТекущийПользователь = ОпределитьТекущегоПользователя();
	ПараметрыСеанса.ТекущийПользователь = ТекущийПользователь;
	ПараметрыСеанса.ТекущаяОрганизация = ТекущийПользователь.Организация;
КонецПроцедуры

Функция ПараметрСеансаУстановлен(ИмяПараметра) Экспорт
	Возврат ЗначениеЗаполнено(ПараметрыСеанса[ИмяПараметра]);
КонецФункции

функция РольДоступнаПользователю(ИмяРоли) Экспорт
	Возврат РольДоступна(ИмяРоли);
КонецФункции

Процедура ВывестиПользователь() Экспорт
	НовыйПользователь = Справочники.Пользователи.СоздатьЭлемент();
	НовыйПользователь.Наименование = ИмяПользователя();
	НовыйПользователь.Записать();
КонецПроцедуры

Процедура ОбработкаОтветственногоПередЗаписью(Источник, Отказ, РежимЗаписи, РежимПроведения) Экспорт
	Источник.Ответственный = ПараметрыСеанса.ТекущийПользователь;
КонецПроцедуры

Процедура ОбработкаВходаПользователя(Операция) Экспорт
	
		ЗаписьВЖурнал = РегистрыСведений.СведеньяОВходе.СоздатьМенеджерЗаписи();
		ЗаписьВЖурнал.Период = ТекущаяДата();
		ЗаписьВЖурнал.Пользователь = ПараметрыСеанса.ТекущийПользователь;
		ЗаписьВЖурнал.ТипВхода = Операция;
		ЗаписьВЖурнал.Записать();
		
КонецПроцедуры
